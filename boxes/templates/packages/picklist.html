{% extends "base.html" %}

{% block content %}
<div class="bg-body shadow rounded p-3">
    <div class="row bg-primary bg-gradient rounded mb-3">
        <h2 class="text-center text-white py-2">{{ picklist_title }} Picklist</h2>
    </div>

    {% include "_messages.html" %}

    <div class="container">
        <div class="row">
            <div class="col">
                <br />
                <h6>Select different picklist:</h6>
                <select id="picklist-select-view"></select>
                <br />
                <button class="mt-2 btn btn-primary" id="picklistview">View</button>
            </div>
            <div class="col">
                {% if page_obj %}
                {% include "packages/_bulk_actions.html" %}
                {% endif %}
            </div> 
        </div>
    </div>
    <br />
    {% if page_obj %}
    {% include "packages/_table.html" %}
    {% else %}
    <div class="row bg-warning bg-gradient rounded mb-3">
        <h5 class="text-center text-white py-2">No parcels in picklist</h5>
    </div>
    {% endif %}

    {% load static %}
    <script src="{% static 'js/picklist.js' %}"></script>
    <script>
        {% if picklist_data %}
        let picklist_data = {{ picklist_data|safe }};
        $("#picklist-select-view").select2({
            data: picklist_data,
            width: "25%"
        });
        {% endif %}
    </script>
</div>
{% endblock %}
